<div ng-controller="EvaluationAttachments">
	<span class="panel-section-item">
		<span class="panel-section-title" ng-click="toggle($event)">Evaluation Resources</span>
		<span class="panel-section-buttons">
			<span><button class="btn btn--empty" style="pointer-events: none;" tabindex="-1">&nbsp;</button></span>
			<section-edit-buttons ng-model="section.editing"></section-edit-buttons>
			<span class="small" ng-class="section.show ? 'up-arrow': 'down-arrow'" ng-click="toggle($event)"></span>
		</span>
	</span>
	<div class="panel-section-content" ng-if="section.show">
        <div ng-show="model.Attachments.length == 0" class="form-section-container font-weight-bold">There are no resources to display.</div>

        <div ng-show="section.editing">
			<p>Use Add resource below and enter a description to identify each resource.</p>
			<p>Accepted file types: DOC, DOCX, PDF, JPG, JPEG, PNG, GIF.</p>
		</div>

        <div class="form__group" ng-if="model.Attachments">
            <table style="width:100%;">
                <tr ng-repeat="attachment in model.Attachments">
                    <td style="width:10%;vertical-align:top">{{$index + 1}}</td>
                    <td style="width:60%;vertical-align:top;word-wrap: break-word;word-break: break-all;"><a href="/Int/Admin/EvaluationForm/Resource/{{attachment.Id}}">{{attachment.FileName}}</a><br />{{attachment.Description}}</td>
                    <td style="vertical-align:top" ng-if="section.editing">
                        <button class="btn btn--secondary pull-right margin-left-10" ng-click="removeAttachment($index)">Remove</button>
                        @*<button class="btn btn--secondary pull-right margin-left-10" ng-click="changeAttachment(attachment)">Change</button>*@
                    </td>
                </tr>
            </table>
        </div>
        <button class="btn btn--secondary" ng-click="addAttachment()" data-disableonsubmit="false" ng-show="section.editing">Add resource</button>

        <div id="grant-application-attachment"></div>
	</div>
</div>

<style>
	ul.k-upload-files {
		display: none;
	}

	.k-upload-selected {
		display: none !important;
	}

	.k-upload-status-total {
		display: none !important;
	}

	.narrow-space-list ul {
		margin-bottom: 0;
	}

	.narrow-space-list ul:not([class]) li {
		margin-bottom: 0;
	}
</style>
